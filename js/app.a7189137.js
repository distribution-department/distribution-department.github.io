(function(){"use strict";var e={50239:function(e,t,o){var n=o(45130),r=(o(35524),o(37768)),i=o(59539),a=o(35741),s=o(56768),c=o(24232),l=o.p+"img/logo.27f34cc4.png";const u={class:"main-container"},d={class:"section-header"},h={class:"d-flex justify-space-around align-center"},m={key:0,style:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",gap:"3px"}},g={key:1},p={class:"section-body"},f={class:"section-footer"},v={class:"text-center"},k={class:"text-center"};function b(e,t,o,r,i,a){const b=(0,s.g2)("TimeComponent"),y=(0,s.g2)("WeatherComponent"),w=(0,s.g2)("v-icon"),L=(0,s.g2)("v-btn"),C=(0,s.g2)("v-list-item-title"),T=(0,s.g2)("v-list-item"),_=(0,s.g2)("v-list"),S=(0,s.g2)("v-menu"),x=(0,s.g2)("v-progress-circular"),I=(0,s.g2)("router-view"),W=(0,s.g2)("v-spacer"),O=(0,s.g2)("v-card"),E=(0,s.g2)("v-dialog"),F=(0,s.g2)("v-snackbar");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",u,[(0,s.Lk)("div",d,[t[8]||(t[8]=(0,s.Lk)("img",{src:l,alt:"Logo"},null,-1)),(0,s.bo)((0,s.bF)(b,null,null,512),[[n.aG,i.screenWidth>"960"]]),(0,s.bo)((0,s.bF)(y,null,null,512),[[n.aG,i.screenWidth>"960"]]),(0,s.Lk)("div",h,[!0===i.isLoginChecked&&"login"===i.showLoginStatus?((0,s.uX)(),(0,s.Wv)(w,{key:0,style:(0,c.Tr)([{margin:"0 5px 0 5px"},i.loginStatus])},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("mdi-account-check ")]))),_:1},8,["style"])):(0,s.Q3)("",!0),!0===i.isLoginChecked&&"blocked"===i.showLoginStatus?((0,s.uX)(),(0,s.Wv)(w,{key:1,style:{margin:"0 5px 0 5px",color:"red"}},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)(" mdi-account-remove ")]))),_:1})):(0,s.Q3)("",!0),(0,s.bF)(L,{id:"menu-activator",color:"primary",size:"small",disabled:"blocked"===i.showLoginStatus},{default:(0,s.k6)((()=>[i.screenWidth<"961"?((0,s.uX)(),(0,s.CE)("span",m,[(0,s.bF)(w,null,{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)("mdi-menu")]))),_:1}),t[7]||(t[7]=(0,s.eW)("Меню"))])):(0,s.Q3)("",!0),i.screenWidth>"960"?((0,s.uX)(),(0,s.CE)("span",g,"Навигация по сайту")):(0,s.Q3)("",!0)])),_:1},8,["disabled"]),(0,s.bF)(S,{activator:"#menu-activator"},{default:(0,s.k6)((()=>[(0,s.bF)(_,{style:{"margin-top":"5px"}},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.menuItems,((e,t)=>((0,s.uX)(),(0,s.Wv)(T,{key:t,value:t,onClick:t=>a.chooseOperation(e.title),style:(0,c.Tr)({color:e.color})},{default:(0,s.k6)((()=>[(0,s.bF)(C,null,{default:(0,s.k6)((()=>[(0,s.bF)(w,{icon:e.icon,style:(0,c.Tr)([{margin:"0 3px 0 0"},{color:e.color}])},null,8,["icon","style"]),(0,s.eW)(" "+(0,c.v_)(e.title),1)])),_:2},1024)])),_:2},1032,["value","onClick","style"])))),128))])),_:1})])),_:1})])]),(0,s.Lk)("div",p,[!1===i.isLoginChecked?((0,s.uX)(),(0,s.Wv)(x,{key:0,size:70,width:"7",color:"blue-darken-2",indeterminate:""})):(0,s.Q3)("",!0),!0===i.isLoginChecked?((0,s.uX)(),(0,s.Wv)(I,{key:1})):(0,s.Q3)("",!0)]),t[11]||(t[11]=(0,s.Lk)("div",{class:"section-asside"},[(0,s.Lk)("div",{class:"section-asside__title"},"PRODUCT`S CARD & DASHBOARD"),(0,s.Lk)("div",{class:"section-asside__logo"},[(0,s.Lk)("img",{src:l,alt:""})])],-1)),(0,s.Lk)("div",f,[t[9]||(t[9]=(0,s.eW)(" © TNP Sales ")),t[10]||(t[10]=(0,s.Lk)("sup",null,"2.0",-1)),(0,s.eW)(" 2023 - "+(0,c.v_)(i.footerYear),1)])]),(0,s.Lk)("div",v,[(0,s.bF)(E,{modelValue:i.dialog,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dialog=e),"max-width":"400",persistent:""},{default:(0,s.k6)((()=>[(0,s.bF)(O,{"prepend-icon":"mdi-information",text:i.dialogText,title:i.dialogTitle},{actions:(0,s.k6)((()=>[(0,s.bF)(W),(0,s.bF)(L,{onClick:a.logOut,color:"success"},{default:(0,s.k6)((()=>t[12]||(t[12]=[(0,s.eW)(" Выйти ")]))),_:1},8,["onClick"]),(0,s.bF)(L,{onClick:t[0]||(t[0]=e=>i.dialog=!1),color:"red"},{default:(0,s.k6)((()=>t[13]||(t[13]=[(0,s.eW)(" Отмена ")]))),_:1})])),_:1},8,["text","title"])])),_:1},8,["modelValue"])]),(0,s.Lk)("div",k,[(0,s.bF)(F,{modelValue:i.snackbar,"onUpdate:modelValue":t[3]||(t[3]=e=>i.snackbar=e),"multi-line":"",timeout:"4000",style:{"margin-bottom":"60px"}},{actions:(0,s.k6)((()=>[(0,s.bF)(L,{color:"red",variant:"text",onClick:t[2]||(t[2]=e=>i.snackbar=!1)},{default:(0,s.k6)((()=>t[14]||(t[14]=[(0,s.eW)(" Закрыть ")]))),_:1})])),default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(i.snackbarText)+" ",1)])),_:1},8,["modelValue"])])],64)}o(44114),o(98992),o(54520);const y={class:"time-container"},w={class:"date"},L={id:"clock-container"},C={id:"hours"},T={id:"minutes"},_={id:"seconds"};function S(e,t,o,n,r,i){return(0,s.uX)(),(0,s.CE)("div",y,[(0,s.Lk)("div",w,(0,c.v_)(r.dateString),1),t[2]||(t[2]=(0,s.Lk)("div",{class:"date-time-separator"},null,-1)),(0,s.Lk)("div",L,[(0,s.Lk)("span",C,(0,c.v_)(r.hours),1),t[0]||(t[0]=(0,s.eW)(": ")),(0,s.Lk)("span",T,(0,c.v_)(r.minutes),1),t[1]||(t[1]=(0,s.eW)(": ")),(0,s.Lk)("span",_,(0,c.v_)(r.seconds),1)])])}var x={name:"TimeComponent",data(){return{seconds:"",minutes:"",hours:"",dateString:""}},methods:{updateTime(){const e=new Date;this.seconds=(e.getSeconds()<10?"0":"")+e.getSeconds(),this.minutes=(e.getMinutes()<10?"0":"")+e.getMinutes(),this.hours=(e.getHours()<10?"0":"")+e.getHours();const t=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],o=e.getDay(),n=e.toLocaleString("default",{month:"short"}),r=e.toLocaleString().slice(0,2);this.dateString=`${r} ${n} ${t[o]}`}},mounted(){this.updateTime(),setInterval(this.updateTime,1e3)}},I=o(71241);const W=(0,I.A)(x,[["render",S],["__scopeId","data-v-44560928"]]);var O=W;const E={class:"weather-container"},F={class:"weather"},A=["src"],j={class:"currency"},D={class:"currency-logo"};function N(e,t,o,n,r,i){const a=(0,s.g2)("v-icon");return(0,s.uX)(),(0,s.CE)("div",E,[(0,s.Lk)("div",F,[(0,s.Lk)("div",{class:(0,c.C4)(["weather__city",{"weather-error":r.weatherIsUnload}])},(0,c.v_)(r.weatherCity),3),(0,s.Lk)("img",{class:"weather__img",src:r.weatherImg,alt:""},null,8,A),(0,s.Lk)("div",{class:"weather__temperature",style:(0,c.Tr)({color:r.weatherTempColor})},(0,c.v_)(r.weatherTemp),5)]),t[0]||(t[0]=(0,s.Lk)("div",{class:"weather-currency-divider"},null,-1)),(0,s.Lk)("div",j,[(0,s.Lk)("div",D,[(0,s.bF)(a,{icon:"mdi-currency-usd"})]),(0,s.Lk)("div",{class:(0,c.C4)(["currency-info",{"currency-error":r.currencyIsUnload}])},(0,c.v_)(r.currencyInfo),3)])])}var U=o(46587),P=o.n(U),R={name:"WeatherComponent",data(){return{weatherCity:"",weatherTemp:"",weatherImg:"",weatherTempColor:"",currencyInfo:"",weatherIsUnload:!1,currencyIsUnload:!1}},methods:{showWeather(){P().ajax({url:"https://api.weatherapi.com/v1/current.json?key=5f6ae58e18e644888bf182855242904&q=Днепропетровск",method:"get",crossDomain:!0,dataType:"json",success:e=>{let t=e.location.name,o=e.current.temp_c,n=e.current.condition.icon;this.weatherCity=t.slice(0,5),this.weatherTemp=`${o}°C`,parseFloat(o)>=35?this.weatherTempColor="orangered":parseFloat(o)<0&&(this.weatherTempColor="dodgerblue"),this.weatherImg=n},error:()=>{this.weatherIsUnload=!0,this.weatherCity="ERROR"}})},showCurrency(){P().ajax({url:"https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json",method:"GET",crossDomain:!0,dataType:"json",success:e=>{let t=e.filter((e=>"Долар США"==e.txt)),o=t[0].rate;this.currencyInfo=o},error:()=>{this.currencyIsUnload=!0,this.currencyInfo="ERROR"}})}},mounted(){this.showWeather(),this.showCurrency(),setInterval((()=>{this.showWeather(),this.showCurrency()}),18e5)}};const $=(0,I.A)(R,[["render",N],["__scopeId","data-v-08c66606"]]);var K=$,X={name:"App",components:{WeatherComponent:K,TimeComponent:O},data(){return{isLoginChecked:!1,footerYear:"",loginStatus:{},showLoginStatus:"blocked",menuItems:[{title:"Главная",icon:"mdi-home",color:""},{title:"Аналитика",icon:"mdi-chart-line",color:""},{title:"Справочник",icon:"mdi-book-open-page-variant",color:""},{title:"План-Факт",icon:"mdi-table",color:""},{title:"Отпуска",icon:"mdi-calendar",color:""},{title:"Расчёты",icon:"mdi-calculator",color:""},{title:"Выйти",icon:"mdi-logout-variant",color:"red"}],screenWidth:window.innerWidth,empoyersAuthData:null,dialog:!1,dialogText:"",dialogTitle:"",snackbar:!1,snackbarText:""}},created(){window.addEventListener("resize",this.updateHeight)},methods:{async checkAuth(){let e=JSON.parse(localStorage.getItem("sale-auth")),t=localStorage.getItem("checkLoadStatus");t&&localStorage.removeItem("checkLoadStatus"),null===e?setTimeout((()=>{this.isLoginChecked=!0,this.showLoginStatus="blocked",this.$router.push("login")}),1e3):null!==e&&"manager"===e.role?await P().ajax({url:"https://script.google.com/macros/s/AKfycbzlA3mS-tvOR0onR5y3seF1E8p7CwsUPuhxhKFGVKOf-btPNTqLGOv3V-vtg9c4LKJT5A/exec",type:"GET",crossDomain:!0,dataType:"json",success:t=>{let o=t.stuff.filter((t=>t.LoginName==e.login));o.length>0?setTimeout((()=>{this.isLoginChecked=!0,this.getLoginItemColor(e.role),this.$router.push("/")}),1e3):o.length<1&&setTimeout((()=>{localStorage.removeItem("sale-auth"),this.isLoginChecked=!0,this.showLoginStatus="blocked",this.$router.push("login")}),1e3)},error:e=>{this.snackbarText="Ошибка загрузки данных с вервера, перезагрузите страницу",this.snackbar=!0,console.log(e)}}):null!==e&&"promoter"===e.role?await P().ajax({url:"https://script.google.com/macros/s/AKfycbzlA3mS-tvOR0onR5y3seF1E8p7CwsUPuhxhKFGVKOf-btPNTqLGOv3V-vtg9c4LKJT5A/exec",type:"GET",crossDomain:!0,dataType:"json",success:t=>{let o=t.stuff.filter((t=>t.LoginName==e.login));o.length>0?setTimeout((()=>{this.isLoginChecked=!0,this.getLoginItemColor(e.role),this.$router.push("/")}),1e3):o.length<1&&setTimeout((()=>{sessionStorage.removeItem("sale-auth"),this.isLoginChecked=!0,this.showLoginStatus="blocked",this.$router.push("login")}),1e3)},error:e=>{this.snackbarText="Ошибка загрузки данных с вервера, перезагрузите страницу",this.snackbar=!0,console.log(e)}}):null!==e&&"super"===e.role&&setTimeout((()=>{this.isLoginChecked=!0,this.getLoginItemColor(e.role),this.$router.push("/")}),1e3)},footerData(){let e=new Date;this.footerYear=e.toLocaleDateString().slice(6)},chooseOperation(e){let t=localStorage.getItem("checkLoadStatus");"loaded"===t?"Выйти"===e?(this.dialogTitle="Выход",this.dialogText="Вы уверены, что хотите выйти?",this.dialog=!0):"Аналитика"===e?this.$router.push("error"):"Главная"===e?this.$router.push("/"):console.log(e):(this.snackbarText="Дождитесь выполнения операции",this.snackbar=!0)},logOut(){this.isLoginChecked=!1,this.dialog=!1,localStorage.removeItem("sale-auth"),window.location.reload()},updateHeight(){this.screenWidth=window.innerWidth},getLoginItemColor(e){"super"===e?this.loginStatus={margin:"0 5px 0 5px",color:"green"}:"manager"===e?this.loginStatus={margin:"0 5px 0 5px",color:"orange"}:"promoter"===e&&(this.loginStatus={margin:"0 5px 0 5px",color:"dodgerblue"}),this.showLoginStatus="login"}},mounted(){this.footerData(),this.checkAuth()},beforeUnmount(){window.removeEventListener("resize",this.updateHeight)}};const V=(0,I.A)(X,[["render",b],["__scopeId","data-v-e3077372"]]);var G=V,H=o(50973);const z=[{path:"/",name:"main",component:()=>o.e(784).then(o.bind(o,14784))},{path:"/login",name:"login",component:()=>o.e(615).then(o.bind(o,77615))},{path:"/analitics",name:"analitics",component:()=>o.e(450).then(o.bind(o,88450))},{path:"/library",name:"library",component:()=>o.e(202).then(o.bind(o,21202))},{path:"/error",name:"error",component:()=>o.e(793).then(o.bind(o,32793))}],B=(0,H.aE)({history:(0,H.LA)(),routes:z});var Q=B;const q=(0,r.$N)({components:i,directives:a,icons:{defaultSet:"mdi"}});(0,n.Ef)(G).use(q).use(Q).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,i){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],i=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{202:"a2ac0b1d",450:"79749d09",503:"7416a885",615:"2983debc",622:"9ebd08b5",784:"8c0c04a1",793:"3ffa1b1f"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+e+"."+{615:"89e5b78b",784:"f6220489",793:"e848e4ff"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="sales-tnp-vue:";o.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var h=function(t,o){s.onerror=s.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",o.nc&&(a.nonce=o.nc);var s=function(o){if(a.onerror=a.onload=null,"load"===o.type)r();else{var n=o&&o.type,s=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=s,a.parentNode&&a.parentNode.removeChild(a),i(c)}};return a.onerror=a.onload=s,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var r=o[n],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){r=a[n],i=r.getAttribute("data-href");if(i===e||i===t)return r}},n=function(n){return new Promise((function(r,i){var a=o.miniCssF(n),s=o.p+a;if(t(a,s))return r();e(n,s,null,r,i)}))},r={524:0};o.f.miniCss=function(e,t){var o={615:1,784:1,793:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={524:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(o,n){r=e[t]=[o,n]}));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error,c=function(n){if(o.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};o.l(a,c,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,a=n[0],s=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var u=c(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self["webpackChunksales_tnp_vue"]=self["webpackChunksales_tnp_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(50239)}));n=o.O(n)})();
//# sourceMappingURL=app.a7189137.js.map